<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Game Hub TMA</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* --- 1. RESET & COLORS --- */
        :root {
            --header-bg: #0b0033;
            --app-bg: #000000;
            --card-bg: #1a1a1a;
            --share-bg: #2b2b2b;
            --accent: #6200ea;
            --success: #00c853;
            --text-main: #ffffff;
            --text-sub: #a1a1a1;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }

        /* PC Background - Dark & Centered */
        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden; 
            background-color: #050505;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* --- 2. THE APP CONTAINER --- */
        #app-canvas {
            /* 
               MOBILE: Fills the screen.
               PC: Locked to 360px width and max 740px height. 
            */
            width: 100%;
            height: 100%;
            
            /* STRICT LIMITS FOR PC */
            max-width: 360px;   /* Standard Mobile Width */
            max-height: 740px;  /* Standard Mobile Height */
            
            background-color: var(--app-bg);
            display: flex;
            flex-direction: column;
            position: relative;
            
            /* Phone look on PC */
            box-shadow: 0 0 40px rgba(0,0,0,0.9);
            
            /* If screen is shorter than 740px (like mobile), it just fills 100% */
        }

        /* On larger screens, add rounded corners to look like a phone */
        @media (min-height: 750px) and (min-width: 400px) {
            #app-canvas {
                border-radius: 20px;
                overflow: hidden; /* Clip content to rounded corners */
            }
        }

        /* --- 3. HEADER --- */
        header {
            background-color: var(--header-bg);
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            z-index: 10;
        }

        header h1 {
            color: var(--text-main);
            font-family: 'Georgia', serif;
            font-weight: bold;
            font-size: 24px;
            letter-spacing: 1px;
        }

        /* --- 4. MIDDLE CONTENT --- */
        #main-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-evenly; /* Even spacing */
            align-items: center;
            padding: 10px 15px; /* Tighter padding for 360px width */
            width: 100%;
        }

        /* GAMES GRID */
        .games-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* 2 cols */
            gap: 12px;
            width: 100%;
            /* Keep grid square-ish relative to width */
            aspect-ratio: 1 / 1; 
        }

        .game-card {
            width: 100%;
            height: 100%;
            background-color: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid #222;
            cursor: pointer;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .game-card:active {
            transform: scale(0.96);
            border-color: var(--accent);
        }

        .game-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            pointer-events: none;
        }

        /* SHARE SECTION */
        .share-box {
            width: 100%;
            background-color: var(--share-bg);
            border-radius: 18px;
            padding: 15px 12px;
            text-align: center;
            margin-top: 10px;
        }

        .share-title {
            color: var(--text-main);
            font-family: serif;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 4px;
        }

        .share-sub {
            color: var(--text-sub);
            font-size: 11px;
            margin-bottom: 12px;
        }

        /* Input Row */
        .input-wrapper {
            background: #999;
            border-radius: 10px;
            height: 40px;
            display: flex;
            overflow: hidden;
            position: relative;
        }

        .link-display {
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            padding: 0 85px 0 10px;
            font-size: 13px;
            font-weight: 600;
            color: #222;
            outline: none;
        }

        .action-btn {
            position: absolute;
            right: 0;
            top: 0;
            width: 80px;
            height: 100%;
            background: var(--accent);
            color: white;
            border: none;
            font-weight: bold;
            font-size: 13px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        /* --- 5. FOOTER --- */
        footer {
            background-color: var(--header-bg);
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        footer p {
            color: var(--text-main);
            font-family: serif;
            font-weight: bold;
            font-size: 13px;
        }

        /* --- 6. GAME OVERLAY --- */
        #game-overlay {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 999;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>

    <!-- 360px WIDTH CONTAINER -->
    <div id="app-canvas">
        
        <header>
            <h1>GAMES</h1>
        </header>

        <div id="main-area">
            
            <div class="games-grid">
                <!-- 1. Racing -->
                <div class="game-card" onclick="openGame('GAME_1_URL_HERE')">
                    <img src="https://github.com/Rajacajustin/gs_1/blob/main/rg_ge_1/rg_ge_1_as/rg_ge_1_as_ls/rg_ge_1_as_ls_1/rg_ge_lo_1.png?raw=true" alt="Racing">
                </div>
                <!-- 2. Snake -->
                <div class="game-card" onclick="openGame('GAME_2_URL_HERE')">
                    <img src="https://github.com/Rajacajustin/gs_1/blob/main/se_ge_1/se_ge_1_as/se_ge_1_as_ls/se_ge_1_as_ls_1/se_ge_lo_1.png?raw=true" alt="Snake">
                </div>
                <!-- 3. Flappy -->
                <div class="game-card" onclick="openGame('GAME_3_URL_HERE')">
                    <img src="https://github.com/Rajacajustin/gs_1/blob/main/bd_ge_1/bd_ge_1_as/bd_ge_1_as_ls/bd_ge_1_as_ls_1/bd_ge_lo_1.png?raw=true" alt="Flappy">
                </div>
                <!-- 4. Dino -->
                <div class="game-card" onclick="openGame('GAME_4_URL_HERE')">
                    <img src="https://github.com/Rajacajustin/gs_1/blob/main/dr_ge_1/dr_ge_1_as/dr_ge_1_as_ls/dr_ge_1_as_ls_1/do_rn_ge_lo_1.png?raw=true" alt="Dino">
                </div>
            </div>

            <div class="share-box">
                <div class="share-title">Share to Your Friends</div>
                <div class="share-sub">Invite friends and unlock more future games!</div>
                
                <div class="input-wrapper">
                    <!-- BOT LINK HERE -->
                    <input type="text" class="link-display" value="https://t.me/your_bot?start=123" readonly id="refLink">
                    
                    <button class="action-btn" id="copyBtn" onclick="copyLink()">
                        <span id="btnIcon" style="display: flex;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </span>
                        <span id="btnText" style="margin-left: 4px;">COPY</span>
                    </button>
                </div>
            </div>
        </div>

        <footer>
            <p>More Games Coming Soon...</p>
        </footer>

        <div id="game-overlay">
            <iframe id="game-frame" src=""></iframe>
        </div>

    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.disableVerticalSwipes();

        function openGame(url) {
            if(url.includes('URL_HERE')) {
                tg.showAlert("Link not configured.");
                return;
            }
            document.querySelector('header').style.display = 'none';
            document.getElementById('main-area').style.display = 'none';
            document.querySelector('footer').style.display = 'none';

            const overlay = document.getElementById('game-overlay');
            const frame = document.getElementById('game-frame');
            frame.src = url;
            overlay.style.display = 'block';
            tg.BackButton.show();
        }

        function closeGame() {
            const overlay = document.getElementById('game-overlay');
            const frame = document.getElementById('game-frame');
            overlay.style.display = 'none';
            frame.src = '';
            
            document.querySelector('header').style.display = 'flex';
            document.getElementById('main-area').style.display = 'flex';
            document.querySelector('footer').style.display = 'flex';
            tg.BackButton.hide();
        }

        tg.BackButton.onClick(closeGame);

        function copyLink() {
            const copyText = document.getElementById("refLink");
            const btn = document.getElementById("copyBtn");
            const btnText = document.getElementById("btnText");
            const btnIcon = document.getElementById("btnIcon");

            navigator.clipboard.writeText(copyText.value).then(() => {
                btn.style.background = "var(--success)";
                btnText.innerText = "COPIED";
                btnIcon.style.display = "none";
                setTimeout(() => {
                    btn.style.background = "var(--accent)";
                    btnText.innerText = "COPY";
                    btnIcon.style.display = "flex";
                }, 2000);
            });
        }
    </script>
</body>
</html>
